(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c3581d76"],{"25de":function(e,t,o){},6715:function(e,t,o){"use strict";var a=o("25de"),r=o.n(a);r.a},a1c6:function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-card",{staticClass:"form-card"},[o("el-form",{ref:"form",attrs:{model:e.form,"label-width":"140px",rules:e.rules}},[o("el-row",[o("el-col",{attrs:{sm:12}},[o("el-form-item",{attrs:{label:"商家名称：",prop:"name"}},[o("el-input",{attrs:{placeholder:"请填写商家名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1)],1),e._v(" "),o("el-row",[o("el-col",{attrs:{sm:12}},[o("el-form-item",{attrs:{label:"店铺logo：",prop:"logo"}},[o("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.uploadUrl,headers:e.uploadHeaders,"show-file-list":!1,"on-success":e.handleUploadLogoSuccess,"before-upload":e.beforeUpload},model:{value:e.form.logo,callback:function(t){e.$set(e.form,"logo",t)},expression:"form.logo"}},[e.form.logo?o("img",{staticClass:"avatar",attrs:{src:e.form.logo}}):o("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1),e._v(" "),o("el-col",{attrs:{sm:12}},[o("el-form-item",{attrs:{label:"店铺封面图：",prop:"thumb"}},[o("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.uploadUrl,headers:e.uploadHeaders,"show-file-list":!1,"on-success":e.handleUploadThumbSuccess,"before-upload":e.beforeUpload},model:{value:e.form.thumb,callback:function(t){e.$set(e.form,"thumb",t)},expression:"form.thumb"}},[e.form.thumb?o("img",{staticClass:"avatar",attrs:{src:e.form.thumb}}):o("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1)],1),e._v(" "),2==e.form.is_online?o("el-row",[o("el-col",{attrs:{sm:12}},[o("el-form-item",{attrs:{label:"所属商圈：",prop:"shangquan"}},[o("el-input",{attrs:{placeholder:"请填写所属商圈"},model:{value:e.form.shangquan,callback:function(t){e.$set(e.form,"shangquan",t)},expression:"form.shangquan"}})],1)],1),e._v(" "),o("el-col",{attrs:{sm:12}},[o("el-form-item",{attrs:{label:"人均消费(元)：",prop:"average_cost"}},[o("el-input",{attrs:{placeholder:"请填写人均消费金额"},model:{value:e.form.average_cost,callback:function(t){e.$set(e.form,"average_cost",t)},expression:"form.average_cost"}})],1)],1)],1):e._e(),e._v(" "),2==e.form.is_online?o("el-row",[o("el-col",{attrs:{sm:12}},[o("el-form-item",{attrs:{label:"营业时间：",prop:"open_time"}},[o("el-input",{attrs:{placeholder:"请填写营业时间,如 9:00AM - 8:30PM"},model:{value:e.form.open_time,callback:function(t){e.$set(e.form,"open_time",t)},expression:"form.open_time"}})],1)],1),e._v(" "),o("el-col",{attrs:{sm:12}},[o("el-form-item",{attrs:{label:"店内福利：",prop:"fuli"}},[o("el-checkbox-group",{model:{value:e.form.fuli,callback:function(t){e.$set(e.form,"fuli",t)},expression:"form.fuli"}},e._l(e.fuliOptions,(function(t){return o("el-checkbox",{key:t,attrs:{label:t}},[e._v(e._s(t))])})),1)],1)],1)],1):e._e(),e._v(" "),o("el-row",[o("el-col",{attrs:{offset:9,sm:2}},[o("el-form-item",{staticStyle:{"text-align":"center"}},[o("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("保存")])],1)],1)],1)],1)],1)],1)},r=[],l=o("cf0d"),s=o("73f5"),i=o("c405"),n={data:function(){return{areaOptions:l,categoryOptions:[],fuliOptions:["免费wifi","免费停车"],form:{},uploadUrl:"http://api.jiangsulezhong.com/seller/system/upload",uploadHeaders:{},rules:{name:[{required:!0,message:"请填写商家名称",trigger:"blur"}],logo:[{required:!0,message:"请上传店铺logo",trigger:"blur"}],thumb:[{required:!0,message:"请上传店铺封面图",trigger:"blur"}],shangquan:[{required:!0,message:"请填写所属商圈",trigger:"blur"}],average_cost:[{required:!0,message:"请填写人均消费金额",trigger:"blur"}]}}},created:function(){this.getInfo()},methods:{getCategory:function(){var e=this;Object(i["a"])().then((function(t){e.categoryOptions=t.data.options}))},getInfo:function(){var e=this;Object(s["c"])({}).then((function(t){e.form=t.data}))},submit:function(){var e=this;this.$refs["form"].validate((function(t){console.log(t),t?Object(s["b"])(e.form).then((function(t){e.$notify({title:"保存成功",message:"成功",type:"success",duration:2e3}),e.$emit("getList")})):e.$message({message:"请先填写必填项，再进行提交",type:"error"})}))},handleUploadThumbSuccess:function(e){this.form.thumb=e.data.preview_url},handleUploadLogoSuccess:function(e){this.form.logo=e.data.preview_url},beforeUpload:function(){},handlePreview:function(e){this.previewImageUrl=e,this.previewVisible=!0}}},c=n,u=(o("6715"),o("2877")),m=Object(u["a"])(c,a,r,!1,null,null,null);t["default"]=m.exports}}]);