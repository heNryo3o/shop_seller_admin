(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c3581d76"],{"25de":function(e,t,a){},6715:function(e,t,a){"use strict";var o=a("25de"),r=a.n(o);r.a},a1c6:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticClass:"form-card"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"140px",rules:e.rules}},[a("el-row",[a("el-col",{attrs:{sm:12}},[a("el-form-item",{attrs:{label:"商家名称：",prop:"name"}},[a("el-input",{attrs:{placeholder:"请填写商家名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{sm:12}},[a("el-form-item",{attrs:{label:"店铺logo：",prop:"logo"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.uploadUrl,headers:e.uploadHeaders,"show-file-list":!1,"on-success":e.handleUploadLogoSuccess,"before-upload":e.beforeUpload},model:{value:e.form.logo,callback:function(t){e.$set(e.form,"logo",t)},expression:"form.logo"}},[e.form.logo?a("img",{staticClass:"avatar",attrs:{src:e.form.logo}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1),e._v(" "),a("el-col",{attrs:{sm:12}},[a("el-form-item",{attrs:{label:"店铺封面图：",prop:"thumb"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.uploadUrl,headers:e.uploadHeaders,"show-file-list":!1,"on-success":e.handleUploadThumbSuccess,"before-upload":e.beforeUpload},model:{value:e.form.thumb,callback:function(t){e.$set(e.form,"thumb",t)},expression:"form.thumb"}},[e.form.thumb?a("img",{staticClass:"avatar",attrs:{src:e.form.thumb}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{sm:12}},[a("el-form-item",{attrs:{label:"所属商圈：",prop:"shangquan"}},[a("el-input",{attrs:{placeholder:"请填写所属商圈"},model:{value:e.form.shangquan,callback:function(t){e.$set(e.form,"shangquan",t)},expression:"form.shangquan"}})],1)],1),e._v(" "),a("el-col",{attrs:{sm:12}},[a("el-form-item",{attrs:{label:"人均消费(元)：",prop:"average_cost"}},[a("el-input",{attrs:{placeholder:"请填写人均消费金额"},model:{value:e.form.average_cost,callback:function(t){e.$set(e.form,"average_cost",t)},expression:"form.average_cost"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{offset:9,sm:2}},[a("el-form-item",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("保存")])],1)],1)],1)],1)],1)],1)},r=[],s=a("cf0d"),l=a("73f5"),n=a("c405"),i={data:function(){return{areaOptions:s,categoryOptions:[],form:{},uploadUrl:"http://api.jiangsulezhong.com/admin/system/upload",uploadHeaders:{},rules:{name:[{required:!0,message:"请填写商家名称",trigger:"blur"}],logo:[{required:!0,message:"请上传店铺logo",trigger:"blur"}],thumb:[{required:!0,message:"请上传店铺封面图",trigger:"blur"}],shangquan:[{required:!0,message:"请填写所属商圈",trigger:"blur"}],average_cost:[{required:!0,message:"请填写人均消费金额",trigger:"blur"}]}}},created:function(){this.getInfo()},methods:{getCategory:function(){var e=this;Object(n["d"])().then((function(t){e.categoryOptions=t.data.options}))},getInfo:function(){var e=this;Object(l["c"])({}).then((function(t){e.form=t.data}))},submit:function(){var e=this;this.$refs["form"].validate((function(t){console.log(t),t?Object(l["b"])(e.form).then((function(t){e.$notify({title:"保存成功",message:"成功",type:"success",duration:2e3}),e.$emit("getList"),e.handleClose()})):e.$message({message:"请先填写必填项，再进行提交",type:"error"})}))},handleUploadThumbSuccess:function(e){this.form.thumb=e.data.preview_url},handleUploadLogoSuccess:function(e){this.form.logo=e.data.preview_url},beforeUpload:function(){},handlePreview:function(e){this.previewImageUrl=e,this.previewVisible=!0}}},c=i,u=(a("6715"),a("2877")),m=Object(u["a"])(c,o,r,!1,null,null,null);t["default"]=m.exports}}]);